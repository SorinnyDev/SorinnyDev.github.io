---
layout: post
title: 프로세스와 스레드의 차이
author: "Sorinny"
categories: [OS]
image: assets/images/2022-01-03-flutter-alarmapp1.png
tags: [OS]
featured: true
hidden: true
---

## 프로세스(process)와 스레드(thread)의 차이


>프로세스와 스레드의 차이점을 설명해주세요.


면접에서 많이 듣는 단골 질문 입니다.

기본적인 개념이지만 막상 설명하려면 어떻게 설명해야될지 난감할때가 있는데
이참에 정리하면서 알아봅시다.

우선 프로세스와 스레드를 설명하려면 당연하게도 프로그램이라는 개념도 같이 설명되어야 한다.
왜냐?
프로세스와 스레드는 모두 프로그램 내에서 동작하니까

>프로그램
>   >프로세스
>   >
>   >   >스레드

정도의 개념으로 이해하면 될 것 같다.

그리고 프로세스와 스레드 각각의 정의는

> **프로세스** : 운영체제로부터 자원을 할당받은 <u>**작업**</u>의 단위
> 

> **스레드** : 프로세스가 할당받은 자원을 이용하는 <u>**실행 흐름**</u>의 단위


 ![](/assets/images/물음표1.jpeg)
 

일단 정의만 봤을때 한번에 이해가 안될 수 도 있지만

프로세스와 스레드 각각의 정의를 염두에 두고

###프로그램 -> 프로세스 -> 스레드

에서 

###프로그램 -> 프로세스

> ###프로그램 이란
> > 파일이 저장 장치에 저장되어 있지만 <u>메모리에는 올라가 있지 않은 **정적인 상태**를 말한다.</u>

여기서

- "메모리에는 올라가 있지 않은" 
  - 아직 운영체제가 프로그램에게 독립적인 메모리 공간을 할당해주지 않았다는 뜻이다. 
  - 모든 프로그램은 운영체제가 실행되기 위한 메모리 공간을 할당해 줘야 실행될 수 있다.
<br><br>
- "정적인 상태"
  - 정적(靜的)이라는 단어 그대로, 움직이지 않는 상태라는 뜻

<br>

정리 하자면 프로그램 이란 아직 시작/실행 되지않는 파일/코드 덩어리<br>
ex) Window 는 *.exe / MacOs 는 *.dmg

<br>
그러면 이 프로그램을 실행 해보자.


프로그램을 실행하는 순간 해당 파일은 컴퓨터 메모리에 올라가게 되고,

이 상태를 **동적(動的)** 인 상태라고 하며 이 상태의 프로그램을 프로세스라고 한다.
위키피디아에서는 프로세스에 대해 정의를 "그냥 실행되고 있는 컴퓨터 프로그램"이라고 정의를 내리고 있으며,
프로세스라는 단어가 작업 중인 프로그램을 의미하는 단어이기 때문이다.


![프로그램 실행](/assets/images/2022-01-12-OS-1프로그램실행프로세스.png)


###프로세스 -> 스레드

과거에는는 프로그램을 실행할 때 실행 시작부터 실행 끝까지 프로세스 하나만을 사용해서 진행했다고 한다.

하지만 시대가 변하고 시간이 흐를수록 프로그램은 복잡해지고 처리해야되야될 작업이 많아지면서
프로세스 하나만을 사용해서 프로그램을 실행하기는 벅차게 되었다. 

실제로 이제는 프로그램 하나가 단순히 한 가지 작업만을 하는 경우는 없다. 그러면 이제 어떻게 해야할까?


쉽게 떠오르는 방법은, "한 프로그램을 처리하기 위한 프로세스를 여러 개 만들면 되지 않을까?" 생각이 들지만 이는 불가능한 일이었다.

왜냐하면 운영체제는 안전성을 위해서 프로세스마다 자신에게 할당된 메모리 내의 정보에만 접근할 수 있도록 제약을 두고 있고, 이를 벗어나는 정보에 접근하려면 오류가 발생하기 때문이다.

아무튼 <u>프로세스와는 다른 더 작은 실행 단위 개념</u>이 필요하게 되었고, 이 개념이 바로 <u>**스레드**</u>다.


![프로그램 실행](/assets/images/2022-01-12-OS-2프로그램실행프로세스.png)<br>
<span style="color:grey">
프로세스가 진행되는 동안 스레드의 실행 과정
(By I, Cburnett, CC BY-SA 3.0)
</span>

스레드는 프로세스와 다르게 스레드 간 메모리를 공유하며 작동한다. 
스레드끼리 프로세스의 자원을 공유하면서 프로세스 실행 흐름의 일부가 되는 것이다. 

아까 프로그램이 코드 덩어리라고 했는데, 스레드도 코드에 비유하자면 스레드는 코드 내에 선언된 함수들이 되고 따라서 main 함수 또한 일종의 스레드라고 볼 수 있게 되는 것이다.


###그래서 질문에 뭐라고 대답해야 할까?

>프로세스와 스레드의 차이점을 설명해주세요.

일단 면잡관이 왜 이런 질문을 했을까 의도부터 파악하는게 중요하다.
프로세스와 스레다의 작동방식을 이해하고 있는지에 대한 질문이기 때문에
위에서 간단하게 설명한 내용으로 대답해도 좋고,
상세하게 설명하자면 메모리 영역의 설명까지 포함되면 더 좋을것 같다.

이후는 조금 더 상세하게 메모리 영역에 대한 설명까지 작성해보려고 한다.

---
